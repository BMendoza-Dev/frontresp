"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[730],{730:(F,P,i)=>{i.r(P),i.d(P,{BiografiaModule:()=>d});var C=i(8692),M=i(7509),h=i(8239),v=i(5614),x=i(3577),w=i(8259),l=i.n(w),k=i(545),o=i(4537),y=i(5998),O=i(4262),c=i(8573),b=i(92),p=i(830),m=i(70);function S(r,f){if(1&r&&o._UZ(0,"img",17),2&r){const e=o.oxw();o.Q6J("src",e.urlGet,o.LSH)}}class _{constructor(f,e,n,t){this.rutas=f,this.spinnerService=e,this.adminService=n,this.sanitizer=t,this.urlfb="",this.urltw="",this.urlit="",this.urlttk="",this.keyword="name",this.dataAsmbleista=[],this.idAsambleiApiAsam=localStorage.getItem("idAsambPerf"),this.asamPerfil=!1,this.urlGet="",this.Editor=k,this.datos="",this.habilitarCampos=!1,this.notFound="No se encuentra asambleista",this.config={toolbar:["heading","|","fontSize","fontFamily","|","bold","italic","bulletedList","numberedList","|","undo","redo"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"}]},lenguage:"es"}}ngOnInit(){this.cargarBiografiaAsam()}onSelectFile(f){if(f.target.files&&f.target.files[0]){let n=f.target.files[0].type;if("image/jpeg"==n||"image/png"==n||"image/svg"==n){var e=new FileReader;let t;e.readAsDataURL(f.target.files[0]),e.onload=a=>{this.urlGet=a.target.result,t=a.target.result.replace("data:","").replace(/^.+,/,""),this.urlSet=t}}else l().fire({icon:"error",title:"\xa1No es una Imagen..!",text:"Elija una imagen."})}}updateBiografia(){l().fire({title:"Est\xe1s seguro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Actualizar",denyButtonText:"No actualizar"}).then(f=>{f.isConfirmed?(this.spinnerService.llamarSpinner(),this.adminService.updateBiografia({id:this.idAsambleiApiAsam,perfil:this.datos,urlfb:this.urlfb,urltw:this.urltw,urlit:this.urlit,urlttk:this.urlttk,binImg:this.urlSet}).then(()=>{l().fire("Guardado!","","success"),this.spinnerService.detenerSpinner()}).catch(n=>{n.status&&this.rutas.navigate(["/login"]),this.spinnerService.detenerSpinner()})):f.isDenied&&l().fire("No se a guardado la cuenta","","info")})}trasformaImagen(f){this.urlGet=this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+f)}cargarBiografiaAsam(){this.spinnerService.llamarSpinner(),this.adminService.cargarBiografia(this.idAsambleiApiAsam).then(f=>{let e=f;"404"==e.error?this.adminService.getImg(this.idAsambleiApiAsam).subscribe(n=>{let t=n;this.urlSet=t[0].imagen,this.trasformaImagen(t[0].imagen)}):(this.trasformaImagen(e.image[0].imagen),this.datos=e.perfil,this.urlfb=e.urlfb,this.urlit=e.urlit,this.urlttk=e.urlttk,this.urltw=e.urltw,this.urlSet=e.image[0].imagen),setTimeout(()=>{this.spinnerService.detenerSpinner()},4e3)}).catch(f=>{f.status&&this.rutas.navigate(["/login"]),this.spinnerService.detenerSpinner()})}onClear(){this.idAsambleiApiAsam=""}redSocial(f){var e=this;return(0,h.Z)(function*(){if("facebook"==f){null==e.urlfb&&(e.urlfb="");const{value:n}=yield l().fire({input:"url",inputLabel:"URL",inputValue:e.urlfb,inputPlaceholder:"URL de perfil de "+f,allowOutsideClick:!1,showCancelButton:!0,cancelButtonText:"Cancelar"});n&&(e.urlfb=n,e.urlfb&&l().fire(`Ingeso la URL: ${e.urlfb}`))}else if("twitter"==f){null==e.urltw&&(e.urltw="");const{value:n}=yield l().fire({input:"url",inputLabel:"URL",inputValue:e.urltw,inputPlaceholder:"URL de perfil de "+f,allowOutsideClick:!1,showCancelButton:!0,cancelButtonText:"Cancelar"});n&&(e.urltw=n,e.urltw&&l().fire(`Ingeso la URL: ${e.urltw}`))}else if("instagram"==f){null==e.urlit&&(e.urlit="");const{value:n}=yield l().fire({input:"url",inputLabel:"URL",inputValue:e.urlit,inputPlaceholder:"URL de perfil de "+f,allowOutsideClick:!1,showCancelButton:!0,cancelButtonText:"Cancelar"});n&&(e.urlit=n,e.urlit&&l().fire(`Ingeso la URL: ${e.urlit}`))}else{null==e.urlttk&&(e.urlttk="");const{value:n}=yield l().fire({input:"url",inputLabel:"URL",inputValue:e.urlttk,inputPlaceholder:"URL de perfil de "+f,allowOutsideClick:!1,showCancelButton:!0,cancelButtonText:"Cancelar"});n&&(e.urlttk=n,e.urlttk&&l().fire(`Ingeso la URL: ${e.urlttk}`))}})()}}_.\u0275fac=function(f){return new(f||_)(o.Y36(M.F0),o.Y36(x.V),o.Y36(v.p),o.Y36(y.H7))},_.\u0275cmp=o.Xpm({type:_,selectors:[["app-forms-biografia"]],decls:27,vars:5,consts:[[1,"container"],["alt","Descripci\xf3n de la imagen",3,"src",4,"ngIf"],[1,"file-input"],["type","file","id","file","name","file",3,"change"],["for","file"],["cIcon","","name","cilDataTransferUp",1,"me-2"],[3,"editor","config","ngModel","ngModelChange"],[1,"buttons"],[3,"click"],["cIcon","","size","xl","name","cibFacebook",1,"facebook"],["cIcon","","size","xl","name","cibTwitter",1,"twitter"],["cIcon","","size","xl","name","cibInstagram",1,"instagram"],["cIcon","","size","xl","name","cibTiktok",1,"tiktok"],["xs","12",2,"margin-top","2%"],["cButton","","color","success","type","submit",1,"me-1",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"],["alt","Descripci\xf3n de la imagen",3,"src"]],template:function(f,e){1&f&&(o.TgZ(0,"c-card")(1,"c-card-body")(2,"div",0),o.YNc(3,S,1,1,"img",1),o.qZA(),o.TgZ(4,"div",2)(5,"input",3),o.NdJ("change",function(t){return e.onSelectFile(t)}),o.qZA(),o.TgZ(6,"label",4)(7,"span"),o._uU(8,"Seleccionar una imagen"),o.qZA(),o.O4$(),o._UZ(9,"svg",5),o.qZA()(),o.kcU(),o.TgZ(10,"ckeditor",6),o.NdJ("ngModelChange",function(t){return e.datos=t}),o.qZA(),o.TgZ(11,"section",7)(12,"i",8),o.NdJ("click",function(){return e.redSocial("facebook")}),o.O4$(),o._UZ(13,"svg",9),o.qZA(),o.kcU(),o.TgZ(14,"i",8),o.NdJ("click",function(){return e.redSocial("twitter")}),o.O4$(),o._UZ(15,"svg",10),o.qZA(),o.kcU(),o.TgZ(16,"i",8),o.NdJ("click",function(){return e.redSocial("instagram")}),o.O4$(),o._UZ(17,"svg",11),o.qZA(),o.kcU(),o.TgZ(18,"i",8),o.NdJ("click",function(){return e.redSocial("tiktok")}),o.O4$(),o._UZ(19,"svg",12),o.qZA()()(),o.kcU(),o.TgZ(20,"c-card-footer")(21,"c-col",13)(22,"button",14),o.NdJ("click",function(){return e.updateBiografia()}),o._uU(23," Actualizar "),o.qZA()()()(),o.TgZ(24,"ngx-spinner",15)(25,"p",16),o._uU(26," Cargando... "),o.qZA()()),2&f&&(o.xp6(3),o.Q6J("ngIf",e.urlGet),o.xp6(7),o.Q6J("editor",e.Editor)("config",e.config)("ngModel",e.datos),o.xp6(14),o.Q6J("fullScreen",!0))},dependencies:[O.u,c.Hq3,c.AkF,c.yue,c.xUh,c.Yp0,C.O5,b.JJ,b.On,p.Ro,m.ar],styles:['@charset "UTF-8";.file-input[_ngcontent-%COMP%]{position:relative;margin-bottom:2%}.file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px;background-color:#f2f2f2;color:#333;border-radius:4px;font-size:16px;cursor:pointer}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:#333}.container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:10px;box-sizing:border-box;text-align:center}img[_ngcontent-%COMP%]{max-width:100%;height:auto;max-height:300px;box-shadow:0 0 5px #0000004d;border-radius:5px;transition:transform .3s ease-in-out}img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}i[_ngcontent-%COMP%]:hover   .facebook[_ngcontent-%COMP%]{fill:#3b5998}i[_ngcontent-%COMP%]:hover   .twitter[_ngcontent-%COMP%]{fill:#1da1f2}i[_ngcontent-%COMP%]:hover   .instagram[_ngcontent-%COMP%]{fill:#e1306c}i[_ngcontent-%COMP%]:hover   .tiktok[_ngcontent-%COMP%]{fill:#69c9d0}.card[_ngcontent-%COMP%]{--cui-card-border-width: 0px}.ng-autocomplete[_ngcontent-%COMP%]{width:100%}.ng-autocomplete[_ngcontent-%COMP%]     .autocomplete-container{box-shadow:none}.ng-autocomplete[_ngcontent-%COMP%]     .autocomplete-container   .input-container   input{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--cui-input-color, rgba(44, 56, 74, .95));background-color:var(--cui-input-bg, #fff);background-clip:padding-box;border:1px solid var(--cui-input-border-color, #b1b7c1);-webkit-appearance:none;appearance:none;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.ng-autocomplete[_ngcontent-%COMP%]     .autocomplete-container   .suggestions-container   .item   .row{padding:.5rem 1rem}.ng-autocomplete[_ngcontent-%COMP%]     .autocomplete-container   .not-found{border:0}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:10px}']});var T=i(2393);const z=[{path:"",data:{title:"administrador_nav_2"},children:[{path:"biografia",component:_,canActivate:[T.X],data:{title:"Biografia"}}]}];class g{}g.\u0275fac=function(f){return new(f||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({imports:[M.Bz.forChild(z),M.Bz]});let I=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[C.ez,b.u5,b.UX]]}),r})();var B=i(5732),V=i(2218);class d{}d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({imports:[O.d,V.rP,c.ga2,c.hJ1,c.dTQ,c.kWm,c.ejP,c.zE6,c.Xo8,c.m81,c.fxp,c.TXv,c.wHA,c.bBg,c.fwJ,c.dGk,c.QqW,c.UUf,c.qek,c.Fme,c.U$I,c.P4_,c.z8t,c.gzQ,c.nMh,c.zkK,c.EV1,c.u3b,C.ez,g,I,B.JF,b.u5,b.UX,p.ef,m.QX]})}}]);